{% extends 'dashboard/base.html' %}
{% load static %}

{% block title %}Course - {{ course.title }}{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2>{{ course.title }}</h2>
  <p class="text-muted">
    Code: {{ course.code|default:"N/A" }} |
    Semester: {{ course.semester|default:"N/A" }}
  </p>

  <div class="mb-4">
    <a href="{% url 'teacher_dashboard' %}" class="btn btn-secondary btn-sm">‚Üê Back to dashboard</a>
  </div>

  <div class="row">
    <div class="col-lg-6">
      <div class="card mb-3">
        <div class="card-header"><strong>Assignments</strong></div>
        <div class="card-body">
          {% if assignments %}
            <ul class="list-group list-group-flush">
              {% for a in assignments %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                  {{ a.title }}
                  <a href="{% url 'teacher_submissions' a.id %}" class="btn btn-sm btn-outline-primary">Submissions</a>
                </li>
              {% endfor %}
            </ul>
          {% else %}
            <p class="text-muted">No assignments yet for this course.</p>
          {% endif %}
        </div>
      </div>
    </div>

    <div class="col-lg-6">
      <div class="card">
        <div class="card-header"><strong>Enrolled Students</strong></div>
        <div class="card-body">
          {% if students %}
            <ul class="list-group list-group-flush">
              {% for s in students %}
                <li class="list-group-item">{{ s.user.get_full_name|default:s.user.username }}</li>
              {% endfor %}
            </ul>
          {% else %}
            <p class="text-muted">No students enrolled yet.</p>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
